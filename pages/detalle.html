<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/ico" href="./img/fav.ico" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="../css/main.css" />
    <!--FONTAWESOME-->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"
    />
    <!-- Swiper CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />

    <!-- Animate aos -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />

    <title>
      GMC Gestoria Monachesi Coronel | Gestoria del Automotor Tucum√°n
    </title>

    <meta name="author" lang="es" content="Monachesi Cesar Ezequiel" />
    <meta
      name="keywords"
      content="gmc automotor, gestoria monachesi coronel, transferencia, automotor, motocileta, moto, auto, cedula azul, cedula verde, gestoria tucuman, gestoria del automotor tucuman, mandatarios de tucuman, mandatarios matriculados de tucuman"
    />
    <meta
      name="description"
      content="Somos los responsables de que todas las gestiones que quieras realizar sean completamente √°giles, brind√°ndote un trabajo eficaz con toda la seguridad jur√≠dica."
    />
    <meta
      name="copyright"
      content="Copyright ¬© GMC AUTOMTOR (Gestoria Monachesi Coronel del Automotor)"
    />
    <meta name="robots" content="index" />
  </head>
  <body>
    <nav
      class="navbar navbar-expand-lg navbar-light bg-light fixed-top shadow-sm"
      id="menu"
    >
      <div class="container">
        <!-- Logo -->
        <a class="navbar-brand d-flex align-items-center" href="../index.html">
          <img
            src="../img/gmc monachesi coronel sin fondo 2.png"
            alt="GMC Automotor - Gestor√≠a del Automotor"
            width="220"
            height="45"
            class="me-2"
          />
        </a>

        <!-- Toggle mobile -->
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Abrir men√∫ de navegaci√≥n"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Links -->
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ms-auto align-items-lg-center mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link fw-semibold" href="../index.html"> Inicio </a>
            </li>

            <li class="nav-item">
              <a
                class="nav-link fw-semibold active"
                aria-current="page"
                href="./vehiculos.html"
              >
                Veh√≠culos
              </a>
            </li>

            <li class="nav-item">
              <a
                class="nav-link fw-semibold"
                href="../index.html#mandatariosmatriculados"
              >
                Qui√©nes somos
              </a>
            </li>

            <li class="nav-item ms-lg-3 d-none d-lg-block">
              <a class="btn btn-primary px-3" href="../index.html#contacto">
                Contacto
              </a>
            </li>

            <li class="nav-item d-md-none">
              <a class="nav-link fw-semibold" href="../index.html#contacto">
                Contacto
              </a>
            </li>

            <!-- Mobile instagram -->
            <li class="nav-item d-lg-none">
              <a
                href="https://www.instagram.com/gmc_automotor/"
                target="_blank"
                class="nav-link fw-semibold d-flex align-items-center"
                aria-label="Instagram GMC Automotor"
              >
                Instagram
                <i
                  class="fa-brands fa-instagram ms-2"
                  style="color: #e1306c; font-size: 1.3rem"
                ></i>
              </a>
            </li>

            <li class="nav-item ms-lg-3 mt-3 mt-md-0">
              <a
                href="https://wa.me/5493816345999?text=Hola%20quiero%20un%20informe%20de%20dominio"
                target="_blank"
                class="btn px-3 btn-informe"
              >
                Informe de dominio
              </a>
            </li>

            <!-- Descktop instagram -->
            <li class="nav-item ms-lg-3 mt-3 mt-md-0 d-none d-lg-block">
              <a
                href="https://www.instagram.com/gmc_automotor/"
                target="_blank"
                class="nav-link"
                aria-label="Instagram GMC Automotor"
              >
                <i
                  class="fa-brands fa-instagram"
                  style="color: #e1306c; font-size: 1.7rem"
                ></i>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="position-relative">
      <!-- Tarjeta veh√≠culo -->
      <section class="container">
        <nav aria-label="breadcrumb" class="breadcrumb-padding">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="../index.html">Inicio</a></li>
            <li class="breadcrumb-item">
              <a href="./vehiculos.html">Veh√≠culos</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">Detalle</li>
          </ol>
        </nav>
      </section>
      <section class="container">
        <div class="card shadow mb-4 border-0 vehicle-card">
          <div class="row g-0">
            <div class="col-md-5">
              <!-- Swiper -->
              <div class="swiper mySwiper rounded shadow-sm">
                <div class="swiper-wrapper" id="swiper-images">
                  <!-- Slides renderizados desde JS -->
                </div>

                <!-- Paginaci√≥n -->
                <div class="swiper-pagination"></div>

                <!-- Flechas -->
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
              </div>

              <!-- Miniaturas -->
              <div
                class="d-flex gap-2 mt-2 justify-content-center flex-wrap"
                id="miniaturas"
              ></div>
            </div>

            <!-- Datos del veh√≠culo -->
            <div class="col-md-5">
              <div class="card-body">
                <!-- T√≠tulo -->
                <h4 class="card-title fw-bold mb-1"></h4>

                <div id="estado-legal" class="mt-2"></div>

                <!-- Precio -->
                <h5 class="fw-bold mb-3 mt-2">
                  Precio: <span class="precio-auto"></span>
                </h5>

                <!-- Datos generales -->
                <table class="table table-striped table-sm mb-3">
                  <tbody>
                    <tr>
                      <td class="fw-semibold">Dominio (patente):</td>
                      <td id="dominio"></td>
                    </tr>

                    <tr>
                      <td class="fw-semibold">Marca:</td>
                      <td id="marca"></td>
                    </tr>
                    <tr>
                      <td class="fw-semibold">Modelo:</td>
                      <td id="modelo"></td>
                    </tr>
                    <tr>
                      <td class="fw-semibold">A√±o:</td>
                      <td id="anio"></td>
                    </tr>
                    <tr>
                      <td class="fw-semibold">Kilometraje:</td>
                      <td id="km"></td>
                    </tr>
                    <tr>
                      <td class="fw-semibold">Combustible:</td>
                      <td id="combustible"></td>
                    </tr>
                    <tr>
                      <td class="fw-semibold">Aire acondicionado:</td>
                      <td id="aire"></td>
                    </tr>
                    <tr>
                      <td class="fw-semibold">Calefacci√≥n:</td>
                      <td id="calefaccion"></td>
                    </tr>
                  </tbody>
                </table>

                <!-- Documentaci√≥n -->
                <h6 class="fw-bold text-secondary">
                  Situaci√≥n Documental Verificada
                </h6>
                <table class="table table-striped table-sm mb-3">
                  <tbody>
                    <tr>
                      <td class="fw-semibold">Informe de dominio:</td>
                      <td id="ultimo-informe-dominio"></td>
                    </tr>
                    <tr>
                      <td class="fw-semibold">Informe de multas:</td>
                      <td id="ultimo-informe-multas"></td>
                    </tr>
                    <tr>
                      <td class="fw-semibold">Informe de patentes:</td>
                      <td id="ultimo-informe-patentes"></td>
                    </tr>
                    <tr>
                      <td class="fw-semibold">Verificaci√≥n policial:</td>
                      <td id="ultimo-informe-policial"></td>
                    </tr>
                  </tbody>
                </table>

                <!-- Contacto del due√±o -->
                <h6 class="fw-bold text-secondary">Contacto del propietario</h6>
                <table class="table table-striped table-sm mb-3">
                  <tbody>
                    <tr>
                      <td class="fw-semibold">Nombre:</td>
                      <td id="vendedor-nombre"></td>
                    </tr>
                    <tr>
                      <td class="fw-semibold">Tel√©fono:</td>
                      <td id="vendedor-telefono"></td>
                    </tr>
                  </tbody>
                </table>

                <!-- Servicios -->
                <div class="mt-3 d-flex gap-2">
                  <button id="btn-transferencia" class="btn btn-success btn-sm">
                    Consultar Transferencia
                  </button>

                  <button
                    id="btn-informe"
                    class="btn btn-outline-primary btn-sm"
                  >
                    Solicitar Informe
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="container mb-4">
        <div class="row justify-content-end">
          <div class="col-md-12">
            <div class="card shadow-sm border-0">
              <div class="card-body">
                <h6 class="fw-bold text-secondary mb-3">
                  Informaci√≥n importante
                </h6>

                <!-- Bloque 1 -->
                <div
                  class="p-3 mb-3 rounded"
                  style="background: #f8f9fa; border-left: 4px solid #0dcaf0"
                >
                  <p class="mb-1 small">
                    El servicio se limita a la
                    <strong>verificaci√≥n del estado documental</strong>
                    del veh√≠culo (dominio, deudas, inhibiciones, prendas,
                    denuncias, etc.).
                  </p>
                  <p class="mb-0 small">
                    No incluye revisi√≥n mec√°nica ni intervenci√≥n en la
                    compraventa.
                  </p>
                </div>

                <!-- Bloque 2 -->
                <div
                  class="p-3 rounded"
                  style="background: #f8f9fa; border-left: 4px solid #adb5bd"
                >
                  <p class="mb-1 small">
                    Antes de cerrar la compraventa, se recomienda realizar la
                    <strong>verificaci√≥n f√≠sica del veh√≠culo</strong>
                    (verificaci√≥n policial de chasis y motor).
                  </p>
                  <p class="mb-0 small">
                    Si las partes lo desean, puedo
                    <strong>presentar el tr√°mite de transferencia</strong>
                    como mandatario matriculado.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- whatsapp -->
      <section
        class="position-fixed bottom-0 end-0 fs-1 px-3 py-3 px-md-3 py-md-3 px-lg-5 py-lg-4"
        style="z-index: 2000"
      >
        <a
          href="https://wa.me/5493816345999?text=Dejanos%20tu%20consulta"
          class="text-success fs-1"
          ><img src="../img/WhatsApp.svg.webp" alt="WhatsApp" height="70rem" />
        </a>
      </section>
    </main>
    <!-- ==================================================== -->
    <!-- PIE DE PAGINA / FOOTER -->
    <!-- ==================================================== -->

    <footer class="bg-dark text-light mt-5">
      <div class="container py-4">
        <div class="row align-items-center gy-3">
          <!-- Identidad -->
          <div class="col-12 col-md-4 text-start">
            <h6 class="fw-bold mb-1 text-md-start text-center">
              GMC Automotor
            </h6>
            <p class="mb-0 small text-secondary text-md-start text-center">
              Gestor√≠a del Automotor ¬∑ Mandatario matriculado
            </p>
          </div>

          <!-- Datos de contacto -->
          <div class="col-12 col-md-4 text-center">
            <p class="mb-1 small">
              <i class="bi bi-whatsapp text-success me-1"></i>
              <a
                href="https://wa.me/5493816345999"
                target="_blank"
                class="text-light text-decoration-none"
              >
                381 634-5999
              </a>
            </p>
            <p class="mb-0 small text-secondary">
              Atenci√≥n personalizada ¬∑ Tucum√°n
            </p>
          </div>

          <!-- Redes -->
          <div class="col-12 col-md-4 text-center text-md-end">
            <a
              href="https://www.instagram.com/gmc_automotor/?hl=es-la"
              target="_blank"
              class="text-light fs-5 me-3"
              aria-label="Instagram GMC Automotor"
            >
              <i class="bi bi-instagram"></i
            ></a>
            <a
              href="https://wa.me/5493816345999?text=Hola%20quiero%20hacer%20una%20consulta"
              target="_blank"
              class="text-light fs-5"
              aria-label="WhatsApp GMC Automotor"
            >
              <i class="bi bi-whatsapp"></i>
            </a>
          </div>
        </div>

        <hr class="border-secondary my-3" />

        <!-- Legales -->
        <div class="row">
          <div class="col-12 text-center">
            <p class="mb-1 small text-secondary">
              ¬© 2025 GMC Automotor ¬∑ Todos los derechos reservados
            </p>

            <p class="mb-1 small">
              <a
                href="/pages/legales.html"
                class="text-secondary text-decoration-none me-2"
              >
                Informaci√≥n legal
              </a>
              ¬∑
              <a
                href="/pages/terminos-y-condiciones.html"
                class="text-secondary text-decoration-none ms-2"
              >
                T√©rminos y condiciones
              </a>
            </p>

            <p class="mb-0 small text-secondary">
              La gestor√≠a no participa de la compraventa ni certifica estado
              mec√°nico o comercial del veh√≠culo.
            </p>
          </div>
        </div>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>

    <script src="animacion.js"></script>

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <!-- Script Detalle -->
    <script type="module">
      import { vehiculos } from "../js/vehiculos.js";

      // 1Ô∏è‚É£ ID desde la URL
      const params = new URLSearchParams(window.location.search);
      const id = parseInt(params.get("id"));

      // 2Ô∏è‚É£ Buscar veh√≠culo
      const auto = vehiculos.find((v) => v.id === id);

      if (!auto) {
        document.body.innerHTML =
          "<h3 class='text-center mt-5'>Veh√≠culo no encontrado</h3>";
        throw new Error("Veh√≠culo no encontrado");
      }

      document.addEventListener("DOMContentLoaded", () => {
        const telefonoWhatsApp = "5493816345999"; // c√≥digo pa√≠s incluido

        // Bot√≥n Solicitar Informe
        const btnInforme = document.getElementById("btn-informe");
        btnInforme.addEventListener("click", () => {
          let mensaje = `Hola, quiero sacar informe del auto ${auto.marca} ${auto.modelo} ${auto.anio}`;

          if (auto.dominio) {
            mensaje += `, patente ${auto.dominio}`;
          }

          const url = `https://wa.me/${telefonoWhatsApp}?text=${encodeURIComponent(
            mensaje
          )}`;
          window.open(url, "_blank");
        });

        // Bot√≥n Consultar Transferencia
        const btnTransferencia = document.getElementById("btn-transferencia");
        btnTransferencia.addEventListener("click", () => {
          let mensaje = `Hola, quiero consultar el presupuesto de transferencia del ${auto.marca} ${auto.modelo} ${auto.anio}`;

          if (auto.dominio) {
            mensaje += `, patente ${auto.dominio}`;
          }

          const url = `https://wa.me/${telefonoWhatsApp}?text=${encodeURIComponent(
            mensaje
          )}`;
          window.open(url, "_blank");
        });
      });

      /* ===============================
     üñº SWIPER - IM√ÅGENES
  =============================== */
      const swiperWrapper = document.getElementById("swiper-images");
      const miniaturas = document.getElementById("miniaturas");

      auto.imagenes.forEach((img, index) => {
        // Slide principal CON ZOOM
        swiperWrapper.innerHTML += `
    <div class="swiper-slide">
      <div class="swiper-zoom-container">
        <img src="${img}" class="w-100 h-100" />
      </div>
    </div>
  `;

        // Miniaturas
        miniaturas.innerHTML += `
    <img 
      src="${img}" 
      class="rounded border"
      style="width: 70px; height: 55px; object-fit: cover; cursor: pointer"
      onclick="swiper.slideToLoop(${index})"
    />
  `;
      });

      // Inicializar Swiper (DESPU√âS de renderizar las im√°genes)
      window.swiper = new Swiper(".mySwiper", {
        loop: true,
        spaceBetween: 10,

        zoom: {
          maxRatio: 3, // nivel de zoom (ideal para autos)
        },

        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },

        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
      });

      /* ===============================
   ‚öñÔ∏è ESTADO LEGAL / DOCUMENTAL
=============================== */

      const estadoLegal = document.getElementById("estado-legal");
      estadoLegal.innerHTML = "";

      /* üìÑ Documentaci√≥n general */
      if (auto.documentacionVerificada) {
        estadoLegal.innerHTML += `
          <span 
        class="badge rounded-pill text-bg-success me-1"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="La documentaci√≥n del veh√≠culo fue revisada y est√° correcta"
      >
        üìÑ Documentaci√≥n validada
      </span>
  `;
      } else {
        estadoLegal.innerHTML += `
  `;
      }

      /* üöì Verificaci√≥n policial */
      if (auto.informes.verificacionPolicial?.realizado) {
        estadoLegal.innerHTML += `
        <span 
          class="badge rounded-pill text-bg-success me-1"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="La verificaci√≥n policial confirma que los n√∫meros de chasis y motor coinciden con la documentaci√≥n del veh√≠culo."
        >
          üöì Verificaci√≥n policial OK
        </span>
  `;
      } else {
        estadoLegal.innerHTML += `
  `;
      }

      /* ===============================
     üìù DATOS GENERALES
  =============================== */
      const dominioTd = document.getElementById("dominio");

      if (auto.dominio) {
        dominioTd.textContent = auto.dominio;
      } else {
        dominioTd.textContent = "No informado";
      }
      if (auto.dominio) {
        dominioTd.innerHTML = `
    ${auto.dominio}
    <span class="badge bg-success ms-2">Verificado</span>
  `;
      }

      document.querySelector(
        ".card-title"
      ).textContent = `${auto.marca} ${auto.modelo} ${auto.anio}`;

      document.querySelector(
        ".precio-auto"
      ).textContent = `$${auto.precio.toLocaleString("es-AR")}`;

      document.getElementById("marca").textContent = auto.marca;
      document.getElementById("modelo").textContent = auto.modelo;
      document.getElementById("anio").textContent = auto.anio;
      document.getElementById("km").textContent = `${auto.km.toLocaleString(
        "es-AR"
      )} km`;

      /* ===============================
     ‚õΩ COMBUSTIBLE
  =============================== */
      document.getElementById("combustible").textContent = auto.combustible.gnc
        ? "Nafta / GNC"
        : "Nafta";

      /* ===============================
     ‚ùÑÔ∏è CONFORT
  =============================== */
      document.getElementById("aire").textContent = auto.aireAcondicionado
        ? "S√≠"
        : "No";

      document.getElementById("calefaccion").textContent = auto.calefaccion
        ? "S√≠"
        : "No";

      /* ===============================
     üìå DOCUMENTACI√ìN
  =============================== */

      // üìÖ Formatea fecha ISO (YYYY-MM-DD ‚Üí DD-MM-YYYY)
      function formatearFecha(fechaISO) {
        if (!fechaISO) return "-";
        const [anio, mes, dia] = fechaISO.split("-");
        return `${dia}-${mes}-${anio}`;
      }

      // üìú Muestra estado del informe
      function mostrarInforme(informe) {
        if (!informe || !informe.realizado) {
          return "No solicitado";
        }

        return formatearFecha(informe.fecha);
      }

      document.getElementById("ultimo-informe-dominio").textContent = auto
        .informes.dominio.realizado
        ? "‚úÖ Validado"
        : "‚ö™ Pendiente de validaci√≥n";

      document.getElementById("ultimo-informe-multas").textContent = auto
        .informes.multas.realizado
        ? "‚úÖ Validado"
        : "‚ö™ Pendiente de validaci√≥n";

      document.getElementById("ultimo-informe-patentes").textContent = auto
        .informes.patentes.realizado
        ? "‚úÖ Validado"
        : "‚ö™ Pendiente de validaci√≥n";

      document.getElementById("ultimo-informe-policial").textContent = auto
        .informes.verificacionPolicial.realizado
        ? "‚úÖ Validado"
        : "‚ö™ Pendiente de validaci√≥n";

      /* ===============================
     üìû CONTACTO
  =============================== */
      document.getElementById("vendedor-nombre").textContent =
        auto.vendedor.nombre;

      document.getElementById("vendedor-telefono").innerHTML = `
    <a href="tel:+54${auto.vendedor.telefono}">
      ${auto.vendedor.telefono}
    </a>
  `;

      /* ===============================
     üí¨ WHATSAPP
  =============================== */
      const msj = encodeURIComponent(
        `Hola, me interesa el ${auto.marca} ${auto.modelo} ${auto.anio}. ¬øSigue disponible?`
      );

      document.getElementById(
        "btn-wpp"
      ).href = `https://wa.me/54${auto.vendedor.telefono}?text=${msj}`;

      /* ===============================
üí¨ WHATSAPP GMC PARA INFORMES Y TRANSFERENCIA
=============================== */

      const telefonoWhatsApp = "5493816345999"; // c√≥digo pa√≠s incluido

      // Bot√≥n Solicitar Informe
      const btnInforme = document.getElementById("btn-informe");
      btnInforme.addEventListener("click", () => {
        let mensaje = `Hola, quiero sacar informe del auto ${auto.marca} ${auto.modelo} ${auto.anio}`;

        // Si el auto tiene dominio, lo agrega
        if (auto.dominio) {
          mensaje += `, patente ${auto.dominio}`;
        }

        const url = `https://wa.me/${telefonoWhatsApp}?text=${encodeURIComponent(
          mensaje
        )}`;
        window.open(url, "_blank");
      });

      // Bot√≥n Consultar Transferencia
      const btnTransferencia = document.getElementById("btn-transferencia");
      btnTransferencia.addEventListener("click", () => {
        let mensaje = `Hola, quiero consultar el presupuesto de transferencia del ${auto.marca} ${auto.modelo} ${auto.anio}`;

        // Si el auto tiene dominio, lo agrega
        if (auto.dominio) {
          mensaje += `, patente ${auto.dominio}`;
        }

        const url = `https://wa.me/${telefonoWhatsApp}?text=${encodeURIComponent(
          mensaje
        )}`;
        window.open(url, "_blank");
      });
    </script>

    <!--Animate aos -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
      AOS.init({
        once: true,
      });
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const tooltipTriggerList = document.querySelectorAll(
          '[data-bs-toggle="tooltip"]'
        );

        [...tooltipTriggerList].forEach((el) => {
          new bootstrap.Tooltip(el, {
            delay: { show: 0, hide: 0 }, // sin delay
          });
        });
      });
    </script>
  </body>
</html>
